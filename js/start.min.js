/**
 * Main JS : ACTIONs
 * 
 * 1. slick init
 */

(function( $ ) {
  // OnLoad Page
  $(document).ready(function($){

    // SET PHOTOS SLIDER
    if( $('.photos-slider').length > 0 ) {
      $('.photos-slider').slick({
        dots: true,
        infinite: true,
        speed: 400,
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: false,
        autoplaySpeed: 1000,
        arrows: false,
        centerMode: false,
        centerPadding: 0,
        pauseOnHover: false,
        fade: false,
        variableWidth: false,
      });
    }

    // SET SLIDER COMPARATION
    if($('.drag-slider').length) {
      $('.drag-slider').twentytwenty();
    }

    // SET COUNTDOWN
    if($('#countdown-job-detail').length) {
      var countdown_to = $('#countdown-job-detail').data('countdown-to');
      $('#countdown-job-detail').countdown(countdown_to, function(event) {
        var weeks = parseInt(event.strftime('%w'));
        var days = parseInt(event.strftime('%d'));
        var hours = parseInt(event.strftime('%H'));
        var total_hours = hours + (days * 24) + (weeks * 7 * 24);
        var $this = $(this).html(event.strftime(''
          + '<span>'+ total_hours +'</span>:'
          + '<span>%M</span>:'
          + '<span>%S</span>'));
      });
    }

    // SET VIDEO TOGGLE PLAY
    $('.video-thumbnail .play-button').click(function() {
      var _video = $(this).parents('.video-thumbnail').find('video');
      if(_video.length) {
        $(this).parents('.video-thumbnail').addClass('played');
        _video[0].play();
        _video.attr('controls', true);
      }
    });

    // LIGHT BOX
    $('.tab-content-wrapper').lightGallery({
      selector: '.wrap-img',
      controls: false,
      enableDrag: false,
      enableSwipe: false,
      counter: false,
      thumbnail: false,
      download: false
    });

    // MENU TOGGLE {
    $('#menu-toggle').click(function() {
      $(this).toggleClass('open');
      $('.nav-list').toggleClass('open');
    });

  });
  /* OnLoad Window */
  var init = function () {
    $('#loading-screen').delay(500).fadeToggle(function() {
      $(this).remove();
    });
  };

  window.onload = init;
  
})(jQuery);